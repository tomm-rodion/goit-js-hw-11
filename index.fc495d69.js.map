{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAO,CACXC,SAAUC,SAASC,cAAc,gBACjCC,UAAWF,SAASC,cAAc,YAClCE,UAAWH,SAASC,cAAc,WAGpCH,EAAKC,SAASK,iBAAiB,SAgB/B,SAAsBC,GAEpB,GADAA,EAAIC,kBAYN,WACE,IAAIC,GAAQ,EACZ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,GAAK,EAAG,CAC9B,GAA0C,OAAtCC,aAAaC,QAAQ,QAAQF,KAG/B,OAAO,EAFPD,GAAQ,C,CAKZ,OAAOA,C,CApBFI,GAEH,YADAC,EAAAhB,GAASiB,OAAOC,QAAQ,oCAG1BhB,EAAKI,UAAUa,UAAY,GAC3BC,EAAAC,KAAIC,KAAKC,UAAUC,IAAI,YACvBtB,EAAKI,UAAUiB,UAAUE,OAAO,mBAChCvB,EAAKK,UAAUgB,UAAUE,OAAO,mBAgBlC,WACE,MAAMC,EAAW,GAEjB,IAAK,IAAId,EAAI,EAAGA,GAAK,GAAIA,GAAK,EAAG,CAC/B,MAAMe,EAAId,aAAaC,QAAQ,QAAQF,KAC7B,OAANe,GACFD,EAASE,KAAKD,E,EAMpB,SAAsBD,GACpB,MAAMG,EAAS,GAEfH,EAASI,KAAIC,GACXF,EAAOD,KACL,oFACmDG,6BAQrCC,EAHPH,EAAOI,KAAK,KAIvB/B,EAAKI,UAAU4B,mBAAmB,YAAaF,GADjD,IAAoBA,C,CAjBlBG,CAAaT,E,CAxBbU,E,IAzByBlC,EAAtBK,UAAUC,iBAAiB,SAEhC,SAA0BC,GAEI,MAAxBA,EAAI4B,OAAOC,UAA4C,OAAxB7B,EAAI4B,OAAOC,UAC5ClB,EAAAC,KAAIkB,UAAU,GAAGC,MAAQ/B,EAAI4B,OAAOI,YACpCrB,EAAAC,KAAIqB,OAAOC,gBAAgB,YAC3BzC,EAAKK,UAAUgB,UAAUC,IAAI,mBAC7BJ,EAAAC,KAAIC,KAAKC,UAAUE,OAAO,aACO,QAAxBhB,EAAI4B,OAAOC,WACpBpC,EAAKK,UAAUgB,UAAUC,IAAI,mBAC7BJ,EAAAC,KAAIC,KAAKC,UAAUE,OAAO,Y","sources":["src/js/history.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { refs as ref } from '../index';\n\nconst refs = {\n  btnStory: document.querySelector('.form__story'),\n  menuStory: document.querySelector('.history'),\n  modalCont: document.querySelector('.modal'),\n};\n\nrefs.btnStory.addEventListener('click', onClickStory); //слухач на кнопку історії пошуку\nrefs.modalCont.addEventListener('click', onClockTextStory); //на відкриття модального вікна історії пошуку\n\nfunction onClockTextStory(evt) {\n  //   console.log(evt.target.textContent);\n  if (evt.target.nodeName === 'P' || evt.target.nodeName === 'LI') {\n    ref.formInput[0].value = evt.target.textContent;\n    ref.btnSum.removeAttribute('disabled');\n    refs.modalCont.classList.add('visually-hidden');\n    ref.body.classList.remove('noScroll');\n  } else if (evt.target.nodeName === 'DIV') {\n    refs.modalCont.classList.add('visually-hidden');\n    ref.body.classList.remove('noScroll');\n  }\n}\n\nfunction onClickStory(evt) {\n  evt.preventDefault();\n  if (!historyCheck()) {\n    Notiflix.Notify.failure('Photo search history is empty =(');\n    return;\n  }\n  refs.menuStory.innerHTML = '';\n  ref.body.classList.add('noScroll');\n  refs.menuStory.classList.remove('visually-hidden');\n  refs.modalCont.classList.remove('visually-hidden');\n  getStory();\n}\n\nfunction historyCheck() {\n  let truth = true;\n  for (let i = 0; i < 10; i += 1) {\n    if (localStorage.getItem(`story${i}`) === null) {\n      truth = false;\n    } else {\n      return true;\n    }\n  }\n  return truth;\n}\n\nfunction getStory() {\n  const arrStory = [];\n\n  for (let i = 0; i <= 10; i += 1) {\n    const g = localStorage.getItem(`story${i}`);\n    if (g !== null) {\n      arrStory.push(g);\n    }\n  }\n  creatElmHtml(arrStory);\n}\n\nfunction creatElmHtml(arrStory) {\n  const markup = [];\n\n  arrStory.map(element =>\n    markup.push(\n      `<ul class=\"list__story\">\n        <li class=\"item__story\"><p class=\"text__story\">${element}</p></li>\n      </ul>`\n    )\n  );\n\n  addElmHtml(markup.join(' '));\n}\n\nfunction addElmHtml(arrElm) {\n  refs.menuStory.insertAdjacentHTML('beforeend', arrElm);\n}\n"],"names":["$eWCmQ","parcelRequire","$2885610f92731c27$var$refs","btnStory","document","querySelector","menuStory","modalCont","addEventListener","evt","preventDefault","truth","i","localStorage","getItem","$2885610f92731c27$var$historyCheck","$parcel$interopDefault","Notify","failure","innerHTML","$2Fivl","refs","body","classList","add","remove","arrStory","g","push","markup","map","element","arrElm","join","insertAdjacentHTML","$2885610f92731c27$var$creatElmHtml","$2885610f92731c27$var$getStory","target","nodeName","formInput","value","textContent","btnSum","removeAttribute"],"version":3,"file":"index.fc495d69.js.map"}